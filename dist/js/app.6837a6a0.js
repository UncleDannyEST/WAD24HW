(()=>{"use strict";var e={61:(e,s,t)=>{var o=t(751),r=t(641);const a={id:"app"};function n(e,s,t,o,n,l){const i=(0,r.g2)("header-component"),d=(0,r.g2)("router-view"),c=(0,r.g2)("footer-component");return(0,r.uX)(),(0,r.CE)("div",a,[(0,r.bF)(i),(0,r.bF)(d),(0,r.bF)(c)])}const l={class:"header"},i={class:"nav-links"},d={key:0},c={key:1},u={key:2};function p(e,s,t,o,a,n){const p=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("nav",l,[(0,r.Lk)("ul",i,[(0,r.Lk)("li",null,[(0,r.bF)(p,{to:"/"},{default:(0,r.k6)((()=>s[1]||(s[1]=[(0,r.eW)("Home")]))),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(p,{to:"/contact"},{default:(0,r.k6)((()=>s[2]||(s[2]=[(0,r.eW)("Contact")]))),_:1})]),n.authState.isLoggedIn?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("li",d,[(0,r.bF)(p,{to:"/signup"},{default:(0,r.k6)((()=>s[3]||(s[3]=[(0,r.eW)("Signup")]))),_:1})])),n.authState.isLoggedIn?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("li",c,[(0,r.bF)(p,{to:"/login"},{default:(0,r.k6)((()=>s[4]||(s[4]=[(0,r.eW)("Login")]))),_:1})])),n.authState.isLoggedIn?((0,r.uX)(),(0,r.CE)("li",u,[(0,r.Lk)("button",{onClick:s[0]||(s[0]=(...e)=>n.logout&&n.logout(...e)),class:"logout-btn"},"Logout")])):(0,r.Q3)("",!0)])])}var m=t(953);const g="users";let h=JSON.parse(localStorage.getItem(g))||[{email:"testuser1@example.com",password:"password123"},{email:"testuser2@example.com",password:"securepass456"},{email:"testuser3@example.com",password:"mypassword789"}];const k=()=>{localStorage.setItem(g,JSON.stringify(h))},v=(0,m.Kh)({isLoggedIn:!!localStorage.getItem("isLoggedIn"),currentUser:JSON.parse(localStorage.getItem("currentUser"))}),b={register(e,s){if(h.some((s=>s.email===e)))throw new Error("This email is already registered.");const t={email:e,password:s};h.push(t),k()},login(e,s){const t=h.find((t=>t.email===e&&t.password===s));if(!t)throw new Error("Invalid email or password.");localStorage.setItem("isLoggedIn",!0),localStorage.setItem("currentUser",JSON.stringify(t)),v.isLoggedIn=!0,v.currentUser=t},logout(){localStorage.removeItem("isLoggedIn"),localStorage.removeItem("currentUser"),v.isLoggedIn=!1,v.currentUser=null},getAllUsers(){return h}},f={computed:{authState(){return v}},methods:{logout(){b.logout(),this.$router.push("/login")}}};var L=t(262);const y=(0,L.A)(f,[["render",p],["__scopeId","data-v-d625e5b8"]]),w=y,P={class:"footer"};function E(e,s,t,o,a,n){return(0,r.uX)(),(0,r.CE)("div",P,s[0]||(s[0]=[(0,r.Lk)("p",null,"Â© WAD2024 Group BH. All Rights Reserved.",-1)]))}const C={name:"FooterComponent"},S=(0,L.A)(C,[["render",E]]),I=S,_={components:{HeaderComponent:w,FooterComponent:I}},A=(0,L.A)(_,[["render",n]]),X=A;var U=t(278);const O=(0,U.y$)({state:{posts:[]},mutations:{setPosts(e,s){e.posts=s},incrementLikes(e,s){const t=e.posts.find((e=>e.id===s));t&&t.likes++,this.commit("savePostsToLocalStorage")},resetLikes(e){e.posts.forEach((e=>e.likes=0)),this.commit("savePostsToLocalStorage")},savePostsToLocalStorage(e){localStorage.setItem("posts",JSON.stringify(e.posts))}},actions:{async loadPosts({commit:e}){try{const s=await fetch("/data.json"),t=await s.json(),o=t.map(((e,s)=>({...e,id:s+1,likes:0}))),r=localStorage.getItem("posts");if(r){const e=JSON.parse(r);e.forEach((e=>{const s=o.find((s=>s.id===e.id));s&&(s.likes=e.likes)}))}e("setPosts",o)}catch(s){console.error("Error loading posts:",s)}},likePost({commit:e},s){e("incrementLikes",s)},resetLikes({commit:e}){e("resetLikes")}},getters:{allPosts:e=>e.posts}});var F=t(220);const $={class:"main-page"},J={key:0,class:"posts"},j={key:1},q={class:"actions"};function x(e,s,t,o,a,n){const l=(0,r.g2)("Post");return(0,r.uX)(),(0,r.CE)("div",$,[s[4]||(s[4]=(0,r.Lk)("h1",null,"Blog Posts",-1)),n.posts.length>0?((0,r.uX)(),(0,r.CE)("div",J,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.posts,(e=>((0,r.uX)(),(0,r.Wv)(l,{key:e.id,post:e,onClick:s=>n.viewPost(e.id)},null,8,["post","onClick"])))),128))])):((0,r.uX)(),(0,r.CE)("div",j,s[3]||(s[3]=[(0,r.Lk)("p",null,"No posts available. Add some posts to get started!",-1)]))),(0,r.Lk)("div",q,[(0,r.Lk)("button",{onClick:s[0]||(s[0]=s=>e.$router.push("/add-post")),class:"btn-primary"},"Add Post"),(0,r.Lk)("button",{onClick:s[1]||(s[1]=(...s)=>e.deleteAllPosts&&e.deleteAllPosts(...s)),class:"btn-danger"},"Delete All Posts"),(0,r.Lk)("button",{onClick:s[2]||(s[2]=(...e)=>n.logout&&n.logout(...e)),class:"btn-secondary"},"Logout")])])}var Q=t(33);const D={class:"post"},W=["src"],N={class:"post-date"};function T(e,s,t,o,a,n){return(0,r.uX)(),(0,r.CE)("div",D,[(0,r.Lk)("h3",null,(0,Q.v_)(t.post.author),1),(0,r.Lk)("p",null,(0,Q.v_)(t.post.text),1),t.post.image_link?((0,r.uX)(),(0,r.CE)("img",{key:0,src:t.post.image_link,alt:"Post Image"},null,8,W)):(0,r.Q3)("",!0),(0,r.Lk)("p",null,"Likes: "+(0,Q.v_)(t.post.likes),1),(0,r.Lk)("p",N,"Posted on: "+(0,Q.v_)(n.formattedDate),1),(0,r.Lk)("img",{src:"thumbsup.jpg",alt:"Like",onClick:s[0]||(s[0]=(...e)=>n.likePost&&n.likePost(...e)),class:"like-button"})])}const V={props:["post"],computed:{formattedDate(){const e=new Date(this.post.creation_date);return e.toLocaleDateString()}},methods:{likePost(){this.$store.dispatch("likePost",this.post.id)}}},B=(0,L.A)(V,[["render",T]]),Y=B,M={components:{Post:Y},computed:{...(0,U.L8)(["allPosts"]),posts(){return this.allPosts}},methods:{...(0,U.i0)(["loadPosts","deleteAllPosts"]),logout(){b.logout(),this.$router.push("/login")},viewPost(e){this.$router.push(`/post/${e}`)}},created(){b.isLoggedIn()?this.loadPosts():this.$router.push("/login")}},H=(0,L.A)(M,[["render",x],["__scopeId","data-v-fbb3c87e"]]),R=H,G={class:"contact-page"},K={class:"form-group"},z={class:"form-group"},Z={class:"form-group"},ee={key:0,class:"success"},se={key:1,class:"error"};function te(e,s,t,a,n,l){return(0,r.uX)(),(0,r.CE)("div",G,[s[8]||(s[8]=(0,r.Fv)('<div class="contact-header" data-v-51da57cb><h1 data-v-51da57cb>Contact Us</h1><p data-v-51da57cb>We&#39;d love to hear from you! Reach out using the form below or the information provided.</p></div><div class="contact-info" data-v-51da57cb><div class="info-item" data-v-51da57cb><strong data-v-51da57cb>Email:</strong><p data-v-51da57cb>support@ourblog.com</p></div><div class="info-item" data-v-51da57cb><strong data-v-51da57cb>Phone:</strong><p data-v-51da57cb>+1 (800) 555-1234</p></div><div class="info-item" data-v-51da57cb><strong data-v-51da57cb>Address:</strong><p data-v-51da57cb>123 Blog Street, Blog City, BL 56789</p></div></div><h2 data-v-51da57cb>Send Us a Message</h2>',3)),(0,r.Lk)("form",{onSubmit:s[3]||(s[3]=(0,o.D$)(((...e)=>l.submitContactForm&&l.submitContactForm(...e)),["prevent"])),class:"contact-form"},[(0,r.Lk)("div",K,[s[4]||(s[4]=(0,r.Lk)("label",{for:"name"},"Your Name:",-1)),(0,r.bo)((0,r.Lk)("input",{id:"name","onUpdate:modelValue":s[0]||(s[0]=e=>n.name=e),type:"text",placeholder:"Enter your name",required:""},null,512),[[o.Jo,n.name]])]),(0,r.Lk)("div",z,[s[5]||(s[5]=(0,r.Lk)("label",{for:"email"},"Your Email:",-1)),(0,r.bo)((0,r.Lk)("input",{id:"email","onUpdate:modelValue":s[1]||(s[1]=e=>n.email=e),type:"email",placeholder:"Enter your email",required:""},null,512),[[o.Jo,n.email]])]),(0,r.Lk)("div",Z,[s[6]||(s[6]=(0,r.Lk)("label",{for:"message"},"Your Message:",-1)),(0,r.bo)((0,r.Lk)("textarea",{id:"message","onUpdate:modelValue":s[2]||(s[2]=e=>n.message=e),placeholder:"Write your message",required:""},null,512),[[o.Jo,n.message]])]),s[7]||(s[7]=(0,r.Lk)("button",{type:"submit",class:"btn-primary"},"Send Message",-1))],32),n.success?((0,r.uX)(),(0,r.CE)("p",ee,(0,Q.v_)(n.success),1)):(0,r.Q3)("",!0),n.error?((0,r.uX)(),(0,r.CE)("p",se,(0,Q.v_)(n.error),1)):(0,r.Q3)("",!0)])}const oe={data(){return{name:"",email:"",message:"",success:null,error:null}},methods:{async submitContactForm(){try{if(!this.name||!this.email||!this.message)throw new Error("All fields are required.");this.success="Your message has been sent successfully!",this.error=null,this.name="",this.email="",this.message=""}catch(e){this.success=null,this.error="Failed to send your message. Please try again."}}}},re=(0,L.A)(oe,[["render",te],["__scopeId","data-v-51da57cb"]]),ae=re,ne={class:"login-page"},le={class:"form-container"},ie={class:"form-group"},de={class:"form-group"},ce={key:0,class:"error"};function ue(e,s,t,a,n,l){return(0,r.uX)(),(0,r.CE)("div",ne,[(0,r.Lk)("div",le,[s[7]||(s[7]=(0,r.Lk)("h2",null,"Welcome Back",-1)),s[8]||(s[8]=(0,r.Lk)("p",null,"Please log in to continue:",-1)),(0,r.Lk)("form",{onSubmit:s[2]||(s[2]=(0,o.D$)(((...e)=>l.handleLogin&&l.handleLogin(...e)),["prevent"]))},[(0,r.Lk)("div",ie,[s[4]||(s[4]=(0,r.Lk)("label",{for:"email"},"Email",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":s[0]||(s[0]=e=>n.email=e),placeholder:"Enter your email",required:""},null,512),[[o.Jo,n.email]])]),(0,r.Lk)("div",de,[s[5]||(s[5]=(0,r.Lk)("label",{for:"password"},"Password",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":s[1]||(s[1]=e=>n.password=e),placeholder:"Enter your password",required:""},null,512),[[o.Jo,n.password]])]),s[6]||(s[6]=(0,r.Lk)("button",{type:"submit",class:"btn-primary"},"Login",-1))],32),n.error?((0,r.uX)(),(0,r.CE)("p",ce,(0,Q.v_)(n.error),1)):(0,r.Q3)("",!0),(0,r.Lk)("button",{onClick:s[3]||(s[3]=s=>e.$router.push("/signup")),class:"btn-secondary"}," Go to Signup ")])])}const pe={data(){return{email:"",password:"",error:null}},methods:{handleLogin(){try{b.login(this.email,this.password),this.error=null,this.$router.push("/")}catch(e){this.error=e.message||"Login failed. Please try again."}}}},me=(0,L.A)(pe,[["render",ue],["__scopeId","data-v-34d8efc8"]]),ge=me,he={class:"signup-page"},ke={class:"form-group"},ve={class:"form-group"},be={key:0,class:"success"},fe={key:1,class:"error"};function Le(e,s,t,a,n,l){return(0,r.uX)(),(0,r.CE)("div",he,[s[7]||(s[7]=(0,r.Lk)("h1",null,"Sign Up",-1)),(0,r.Lk)("form",{onSubmit:s[2]||(s[2]=(0,o.D$)(((...e)=>l.signup&&l.signup(...e)),["prevent"]))},[(0,r.Lk)("div",ke,[s[3]||(s[3]=(0,r.Lk)("label",{for:"email"},"Email:",-1)),(0,r.bo)((0,r.Lk)("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=e=>n.email=e),type:"email",placeholder:"Enter your email",required:""},null,512),[[o.Jo,n.email]])]),(0,r.Lk)("div",ve,[s[4]||(s[4]=(0,r.Lk)("label",{for:"password"},"Password:",-1)),(0,r.bo)((0,r.Lk)("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=e=>n.password=e),type:"password",placeholder:"Enter your password",required:""},null,512),[[o.Jo,n.password]]),s[5]||(s[5]=(0,r.Lk)("small",null,"Password must be at least 6 characters long.",-1))]),s[6]||(s[6]=(0,r.Lk)("button",{type:"submit",class:"btn-primary"},"Sign Up",-1))],32),n.success?((0,r.uX)(),(0,r.CE)("p",be,(0,Q.v_)(n.success),1)):(0,r.Q3)("",!0),n.error?((0,r.uX)(),(0,r.CE)("p",fe,(0,Q.v_)(n.error),1)):(0,r.Q3)("",!0)])}const ye={data(){return{email:"",password:"",error:null,success:null}},methods:{signup(){try{if(this.password.length<6)throw new Error("Password must be at least 6 characters long.");b.register(this.email,this.password),this.success="Signup successful! You can now log in.",this.error=null,this.email="",this.password=""}catch(e){this.error=e.message||"Signup failed. Please try again.",this.success=null}}}},we=(0,L.A)(ye,[["render",Le],["__scopeId","data-v-49cdbaf0"]]),Pe=we,Ee={class:"add-post-page"},Ce={key:0,class:"error"},Se={key:1,class:"success"};function Ie(e,s,t,a,n,l){return(0,r.uX)(),(0,r.CE)("div",Ee,[s[3]||(s[3]=(0,r.Lk)("h1",null,"Add Post",-1)),(0,r.Lk)("form",{onSubmit:s[1]||(s[1]=(0,o.D$)(((...e)=>l.addPost&&l.addPost(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":s[0]||(s[0]=e=>n.body=e),placeholder:"Write your post",required:""},null,512),[[o.Jo,n.body]]),s[2]||(s[2]=(0,r.Lk)("button",{type:"submit",class:"btn-primary"},"Add Post",-1))],32),n.error?((0,r.uX)(),(0,r.CE)("p",Ce,(0,Q.v_)(n.error),1)):(0,r.Q3)("",!0),n.success?((0,r.uX)(),(0,r.CE)("p",Se,(0,Q.v_)(n.success),1)):(0,r.Q3)("",!0)])}const _e="http://localhost:8000/api",Ae=async(e,s)=>{const t=await fetch(`${_e}/posts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({body:e})});if(!t.ok)throw new Error("Failed to add post");return t.json()},Xe={data(){return{body:"",error:null,success:null}},methods:{async addPost(){try{const e=localStorage.getItem("token");if(!e)throw new Error("User not logged in");await Ae({body:this.body,token:e}),this.success="Post added successfully!",this.body="",this.error=null}catch(e){this.error="Failed to add post.",this.success=null}}}},Ue=(0,L.A)(Xe,[["render",Ie],["__scopeId","data-v-dcb35b18"]]),Oe=Ue,Fe=[{path:"/",name:"MainPage",component:R},{path:"/contact",name:"ContactPage",component:ae},{path:"/login",name:"Login",component:ge},{path:"/signup",name:"Signup",component:Pe},{path:"/add-post",name:"AddPost",component:Oe,meta:{requiresAuth:!0}}],$e=(0,F.aE)({history:(0,F.LA)(),routes:Fe});$e.beforeEach(((e,s,t)=>{const o=localStorage.getItem("isLoggedIn");e.meta.requiresAuth&&!o?t("/login"):t()}));const Je=$e;(0,o.Ef)(X).use(O).use(Je).mount("#app")}},s={};function t(o){var r=s[o];if(void 0!==r)return r.exports;var a=s[o]={exports:{}};return e[o](a,a.exports,t),a.exports}t.m=e,(()=>{var e=[];t.O=(s,o,r,a)=>{if(!o){var n=1/0;for(c=0;c<e.length;c++){for(var[o,r,a]=e[c],l=!0,i=0;i<o.length;i++)(!1&a||n>=a)&&Object.keys(t.O).every((e=>t.O[e](o[i])))?o.splice(i--,1):(l=!1,a<n&&(n=a));if(l){e.splice(c--,1);var d=r();void 0!==d&&(s=d)}}return s}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,r,a]}})(),(()=>{t.d=(e,s)=>{for(var o in s)t.o(s,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:s[o]})}})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s)})(),(()=>{var e={524:0};t.O.j=s=>0===e[s];var s=(s,o)=>{var r,a,[n,l,i]=o,d=0;if(n.some((s=>0!==e[s]))){for(r in l)t.o(l,r)&&(t.m[r]=l[r]);if(i)var c=i(t)}for(s&&s(o);d<n.length;d++)a=n[d],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(c)},o=self["webpackChunkveebirakendus_1"]=self["webpackChunkveebirakendus_1"]||[];o.forEach(s.bind(null,0)),o.push=s.bind(null,o.push.bind(o))})();var o=t.O(void 0,[504],(()=>t(61)));o=t.O(o)})();
//# sourceMappingURL=app.6837a6a0.js.map